<div class="info__header mdl-shadow--16dp">
  <div class="headline">
    <a id="btn-back" [routerLink]="['../']" class="mdl-button mdl-js-button mdl-js-ripple-effect back-btn mdl-color--primary-contrast">
      <i class="material-icons">arrow_back</i>
    </a>
    <h3 class="title">{{ SucursalState.info.Title }}</h3>
  </div>
</div>
<section class="section section--info">
  <app-toolbar (applyFilters)="applyFilters($event)" [totalHoy]="'35'" [totalGeneral]="'420'"></app-toolbar>
  <div class="mdl-grid mdl-color--primary-contrast">
    <div class="mdl-cell mdl-cell--8-col qa-holder">
      <h4 style="margin-bottom: 0;">Gráficas y estadisticas</h4>
      <div class="mdl-grid charts-list" *ngIf="!SucursalState.loading || SucursalState.closeQuestions.length">
        <app-chart-card
          class="mdl-cell mdl-card"
          *ngFor="let q of SucursalState.closeQuestions; let i = index;"
          chartType="pie"
          lodingText="Cargando Respuesta {{ i }}"
          [errorText]="chartError"
          [chartTitle]="q.pregunta"
          [chartLabels]="closeAnswers.length ? closeAnswers[i][0] : []"
          [chartData]="closeAnswers.length ? closeAnswers[i][1] : []"
          [chartColors]="COLORS"
          >
        </app-chart-card>
      </div>
      <div class="mdl-grid loading-holder mdl-typography--text-center" *ngIf="SucursalState.loading">
        <div class="content">
          <div class="mdl-spinner mdl-js-spinner is-active"></div>
          <h4 class="mdl-typography--text-center">{{ SucursalState.currentAction }}</h4>
        </div>
      </div> <!-- Questions Loading Indicator -->
      <div class="mdl-grid empty-holder" *ngIf="!SucursalState.loading && !SucursalState.closeQuestions.length">
        <h4 class="mdl-cell mdl-cell--12-col mdl-typography--text-center">
          <i class="material-icons">mood_bad</i><br /> NO HAY PREGUNTAS EN ESTE PERÍODO
        </h4>
      </div> <!-- Empty Response Indicator -->
      <div class="mdl-grid empty-holder" *ngIf="!SucursalState.loading && !SucursalState.closeQuestions.length && chartError">
        <h4 class="mdl-cell mdl-cell--12-col mdl-typography--text-center">
          <i class="material-icons">error</i><br /> {{ chartError }}
        </h4>
      </div> <!-- Error Response Indicator -->
    </div>
    <div class="mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-typography--text-center">
      <h4 style="margin-bottom: 0;">Pregunta Abierta</h4>
      <h5 style="margin-top: 0;" class="mdl-typography--body-2-force-preferred-font-color-contrast">¿Algún comentario que desee agregar?</h5>
      <div class="mdl-grid comments-list" *ngFor="let oa of openAnswers">
        <div class="comment mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-typography--text-right"
        *ngFor="let a of oa">
          <p class="text">{{ a.respuesta }}</p>
          <div class="meta">
            <span class="author"><i class="material-icons">account_circle</i>{{ a.sesion || 'Anonimo' }}</span>
            <span style="flex: 1;"></span>
            <time class="mdl-typography--caption-color-contrast">{{ a.fecha }}</time>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- tooltips, menu and hidden stuffs -->
<div class="mdl-tooltip mdl-tooltip--right" for="btn-back"> Volver a la lista de sucursales </div>
